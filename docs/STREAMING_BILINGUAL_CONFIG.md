# sherpa-ncnn-streaming-zipformer-bilingual-zh-en-2023-02-13 æ¨¡å‹é…ç½®å®Œæˆ

## ğŸ‰ é…ç½®å®Œæˆæ€»ç»“

âœ… **æ¨¡å‹æ–‡ä»¶å·²æˆåŠŸè§£å‹å¹¶é…ç½®**
âœ… **é…ç½®æ–‡ä»¶å·²æ›´æ–°**
âœ… **é»˜è®¤æ¨¡å‹å·²è®¾ç½®ä¸ºæµå¼åŒè¯­æ¨¡å‹**
âœ… **åŠŸèƒ½æµ‹è¯•é€šè¿‡**

## ğŸ“Š æ¨¡å‹ä¿¡æ¯

### åŸºæœ¬ä¿¡æ¯
- **æ¨¡å‹åç§°**: Streaming Zipformer Bilingual
- **æ¨¡å‹ID**: `streaming_bilingual`
- **ç‰ˆæœ¬**: 2023-02-13
- **è¯­è¨€**: ä¸­è‹±æ–‡æ··åˆ
- **æ¶æ„**: Zipformer
- **ç‰¹ç‚¹**: æ”¯æŒæµå¼å¤„ç†ã€å®æ—¶è¯†åˆ«ã€ä½å»¶è¿Ÿ

### æŠ€æœ¯è§„æ ¼
- **é‡‡æ ·ç‡**: 16000 Hz
- **å£°é“æ•°**: 1
- **é‡‡æ ·æ ¼å¼**: 16-bit PCM
- **æ¨¡å‹å¤§å°**: çº¦50MB
- **çº¿ç¨‹æ•°**: 4ï¼ˆå¯é…ç½®ï¼‰

### æ–‡ä»¶ç»“æ„
```
sherpa-ncnn-streaming-zipformer-bilingual-zh-en-2023-02-13/
â”œâ”€â”€ tokens.txt                          # è¯æ±‡è¡¨æ–‡ä»¶
â”œâ”€â”€ encoder_jit_trace-pnnx.ncnn.param   # ç¼–ç å™¨å‚æ•°æ–‡ä»¶
â”œâ”€â”€ encoder_jit_trace-pnnx.ncnn.bin     # ç¼–ç å™¨æƒé‡æ–‡ä»¶
â”œâ”€â”€ decoder_jit_trace-pnnx.ncnn.param   # è§£ç å™¨å‚æ•°æ–‡ä»¶
â”œâ”€â”€ decoder_jit_trace-pnnx.ncnn.bin     # è§£ç å™¨æƒé‡æ–‡ä»¶
â”œâ”€â”€ joiner_jit_trace-pnnx.ncnn.param     # è¿æ¥å™¨å‚æ•°æ–‡ä»¶
â”œâ”€â”€ joiner_jit_trace-pnnx.ncnn.bin       # è¿æ¥å™¨æƒé‡æ–‡ä»¶
â”œâ”€â”€ README.md                           # æ¨¡å‹è¯´æ˜æ–‡æ¡£
â””â”€â”€ test_wavs/                          # æµ‹è¯•éŸ³é¢‘æ–‡ä»¶
    â”œâ”€â”€ 0.wav
    â”œâ”€â”€ 1.wav
    â”œâ”€â”€ 2.wav
    â”œâ”€â”€ 3.wav
    â”œâ”€â”€ 4.wav
    â”œâ”€â”€ 5.wav
```

## âš™ï¸ é…ç½®è¯¦æƒ…

### æ¨¡å‹é…ç½®
```json
{
  "streaming_bilingual": {
    "name": "æµå¼ä¸­è‹±æ–‡æ¨¡å‹",
    "description": "Streaming Zipformerä¸­è‹±æ–‡æ··åˆæ¨¡å‹ï¼Œæ”¯æŒå®æ—¶æµå¼å¤„ç†",
    "model_dir": "sherpa-ncnn-streaming-zipformer-bilingual-zh-en-2023-02-13",
    "sample_rate": 16000,
    "language": "bilingual",
    "features": {
      "streaming": true,
      "real_time": true,
      "low_latency": true,
      "bilingual_support": true,
      "zipformer_architecture": true
    }
  }
}
```

### è¯†åˆ«é…ç½®
```json
{
  "default_model": "streaming_bilingual",
  "num_threads": 4,
  "decoding_method": "greedy_search",
  "enable_endpoint_detection": true,
  "chunk_size": 0.1
}
```

## ğŸ§ª æµ‹è¯•ç»“æœ

### åŠŸèƒ½æµ‹è¯•
- âœ… **æ¨¡å‹æ–‡ä»¶å®Œæ•´æ€§**: æ‰€æœ‰7ä¸ªå¿…éœ€æ–‡ä»¶éƒ½å­˜åœ¨
- âœ… **è¯†åˆ«å™¨åˆå§‹åŒ–**: æˆåŠŸåˆå§‹åŒ–ï¼Œé‡‡æ ·ç‡16000Hz
- âœ… **æµå¼å¤„ç†**: å®æ—¶è¯†åˆ«åŠŸèƒ½æ­£å¸¸
- âœ… **ä¸­è‹±æ–‡è¯†åˆ«**: ä¸¤ç§è¯­è¨€éƒ½èƒ½å‡†ç¡®è¯†åˆ«
- âœ… **ç«¯ç‚¹æ£€æµ‹**: è‡ªåŠ¨æ£€æµ‹è¯­éŸ³æ®µè½
- âœ… **éŸ³é¢‘å¤„ç†**: æ”¯æŒå„ç§éŸ³é¢‘æ ¼å¼

### è¯†åˆ«è´¨é‡æµ‹è¯•
1. **è‹±æ–‡æµ‹è¯•** (0.wav):
   - åŸæ–‡: "MONDAY TODAY IS LIBRARY THE DAY AFTER TOMORROW"
   - è¯†åˆ«ç»“æœ: å®Œå…¨å‡†ç¡®

2. **ä¸­æ–‡æµ‹è¯•** (1.wav):
   - åŸæ–‡: "è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•çš„ç¬¬äºŒæ®µéŸ³é¢‘"
   - è¯†åˆ«ç»“æœ: å®Œå…¨å‡†ç¡®

3. **é•¿éŸ³é¢‘æµ‹è¯•** (2.wav):
   - è¯†åˆ«ç»“æœ: æµç•…å‡†ç¡®ï¼Œæ— æ–­å¥é”™è¯¯

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ä½¿ç”¨
```bash
# æŸ¥çœ‹é…ç½®çŠ¶æ€
python sherpa_ncnn_video_to_text.py --status

# åˆ—å‡ºå¯ç”¨æ¨¡å‹
python sherpa_ncnn_video_to_text.py --list-models

# è½¬æ¢è§†é¢‘æ–‡ä»¶ï¼ˆä½¿ç”¨é»˜è®¤çš„æµå¼åŒè¯­æ¨¡å‹ï¼‰
python sherpa_ncnn_video_to_text.py "è§†é¢‘æ–‡ä»¶.mp4"

# æŒ‡å®šä½¿ç”¨æµå¼åŒè¯­æ¨¡å‹
python sherpa_ncnn_video_to_text.py "è§†é¢‘æ–‡ä»¶.mp4" -m "streaming_bilingual"

# æ‰¹é‡å¤„ç†
python batch_sherpa_ncnn.py "ç›®å½•è·¯å¾„" -m "streaming_bilingual"
```

### é«˜çº§åŠŸèƒ½
```bash
# è°ƒæ•´å—å¤§å°ï¼ˆæµå¼å¤„ç†ä¼˜åŒ–ï¼‰
python sherpa_ncnn_video_to_text.py "è§†é¢‘.mp4" --chunk_size 0.05

# å¢åŠ çº¿ç¨‹æ•°ï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰
# åœ¨config.jsonä¸­è®¾ç½® "num_threads": 8

# å›¾å½¢åŒ–é…ç½®
python config_gui.py

# è¿è¡Œä¸“é—¨æµ‹è¯•
python test_streaming_bilingual.py
```

## ğŸ¯ æ¨¡å‹ä¼˜åŠ¿

### æ€§èƒ½ç‰¹ç‚¹
1. **æµå¼å¤„ç†**: æ”¯æŒå®æ—¶éŸ³é¢‘æµå¤„ç†ï¼Œå»¶è¿Ÿä½
2. **åŒè¯­æ”¯æŒ**: åŒæ—¶æ”¯æŒä¸­æ–‡å’Œè‹±æ–‡è¯†åˆ«
3. **é«˜å‡†ç¡®ç‡**: Zipformeræ¶æ„æä¾›æ›´å‡†ç¡®çš„è¯†åˆ«
4. **ä½èµ„æºå ç”¨**: æ¨¡å‹ä½“ç§¯å°ï¼Œè¿è¡Œæ•ˆç‡é«˜
5. **ç«¯ç‚¹æ£€æµ‹**: è‡ªåŠ¨æ£€æµ‹è¯­éŸ³æ®µè½ï¼Œå‡å°‘é”™è¯¯

### é€‚ç”¨åœºæ™¯
- **å®æ—¶ä¼šè®®è®°å½•**: æ”¯æŒä¸­è‹±æ–‡æ··åˆçš„ä¼šè®®ç¯å¢ƒ
- **è§†é¢‘å­—å¹•ç”Ÿæˆ**: ä¸ºåŒè¯­è§†é¢‘ç”Ÿæˆå­—å¹•
- **è¯­éŸ³ç¬”è®°æ•´ç†**: æ•´ç†ä¸­è‹±æ–‡æ··åˆçš„è¯­éŸ³å†…å®¹
- **å®æ—¶ç¿»è¯‘**: é…åˆç¿»è¯‘è½¯ä»¶ä½¿ç”¨
- **å¤šè¯­è¨€æ•™è‚²**: è¯­è¨€å­¦ä¹ ç¯å¢ƒä¸­çš„è¯­éŸ³è¯†åˆ«

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–å»ºè®®

### ç³»ç»Ÿé…ç½®
- **CPU**: æ¨èå¤šæ ¸å¤„ç†å™¨ï¼Œæ”¯æŒå¤šçº¿ç¨‹
- **å†…å­˜**: å»ºè®®4GBä»¥ä¸Šå¯ç”¨å†…å­˜
- **å­˜å‚¨**: SSDç¡¬ç›˜å¯æé«˜åŠ è½½é€Ÿåº¦

### å‚æ•°ä¼˜åŒ–
```json
{
  "recognition": {
    "num_threads": 8,                    // å¢åŠ çº¿ç¨‹æ•°
    "chunk_size": 0.05,                  // å‡å°å—å¤§å°ï¼Œé™ä½å»¶è¿Ÿ
    "enable_endpoint_detection": true     // å¯ç”¨ç«¯ç‚¹æ£€æµ‹
  },
  "performance": {
    "max_file_size_mb": 1000,            // æ”¯æŒæ›´å¤§æ–‡ä»¶
    "parallel_threads": 4                 // æ‰¹é‡å¤„ç†å¹¶è¡Œçº¿ç¨‹
  }
}
```

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜
1. **æ¨¡å‹åŠ è½½å¤±è´¥**: æ£€æŸ¥æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®
2. **è¯†åˆ«é€Ÿåº¦æ…¢**: è°ƒæ•´çº¿ç¨‹æ•°å’Œå—å¤§å°
3. **å†…å­˜ä¸è¶³**: å…³é—­å…¶ä»–å ç”¨å†…å­˜çš„ç¨‹åº
4. **è¯†åˆ«ä¸å‡†ç¡®**: ç¡®ä¿éŸ³é¢‘è´¨é‡è‰¯å¥½

### è°ƒè¯•å‘½ä»¤
```bash
# æ£€æŸ¥æ¨¡å‹çŠ¶æ€
python sherpa_ncnn_video_to_text.py --status

# è¿è¡Œä¸“é—¨æµ‹è¯•
python test_streaming_bilingual.py

# éªŒè¯é…ç½®æ–‡ä»¶
python config_manager.py --validate
```

## ğŸ”„ æ›´æ–°å’Œç»´æŠ¤

### æ¨¡å‹æ›´æ–°
- å…³æ³¨å®˜æ–¹æ¨¡å‹æ›´æ–°ï¼šhttps://github.com/k2-fsa/sherpa-ncnn/releases
- å®šæœŸæ£€æŸ¥æ–°ç‰ˆæœ¬å’Œæ”¹è¿›
- å¤‡ä»½å½“å‰é…ç½®æ–‡ä»¶

### é…ç½®å¤‡ä»½
- ä¿å­˜config.jsonçš„å¤‡ä»½
- è®°å½•è‡ªå®šä¹‰å‚æ•°è®¾ç½®
- æµ‹è¯•æ–°é…ç½®åå†éƒ¨ç½²

---

## ğŸ‰ é…ç½®å®Œæˆï¼

`sherpa-ncnn-streaming-zipformer-bilingual-zh-en-2023-02-13` æ¨¡å‹å·²æˆåŠŸé…ç½®ä¸ºé»˜è®¤æ¨¡å‹ï¼Œæ‰€æœ‰åŠŸèƒ½æµ‹è¯•é€šè¿‡ã€‚ç°åœ¨æ‚¨å¯ä»¥ï¼š

1. **ç«‹å³ä½¿ç”¨**: è¿è¡Œ `python sherpa_ncnn_video_to_text.py "è§†é¢‘æ–‡ä»¶.mp4"` å¼€å§‹è½¬æ¢
2. **æ‰¹é‡å¤„ç†**: ä½¿ç”¨æ‰¹é‡å¤„ç†åŠŸèƒ½å¤„ç†å¤šä¸ªæ–‡ä»¶
3. **å›¾å½¢åŒ–ç®¡ç†**: ä½¿ç”¨ `python config_gui.py` è¿›è¡Œé…ç½®ç®¡ç†
4. **å®æ—¶æµ‹è¯•**: è¿è¡Œ `python test_streaming_bilingual.py` è¿›è¡ŒåŠŸèƒ½æµ‹è¯•

äº«å—é«˜æ•ˆã€å‡†ç¡®çš„ä¸­è‹±æ–‡è§†é¢‘è½¬æ–‡æœ¬ä½“éªŒï¼